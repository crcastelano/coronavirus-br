<mat-card>
	<mat-card-title>
		<div layout="row">
			<span flex style="font-size: small">Cidades com casos confirmados</span>
			<span>
        <button mat-icon-button
                matTooltip="Card settings"
                [mat-menu-trigger-for]="settings1">
          <mat-icon>color_lens</mat-icon>
        </button>
        <mat-menu xPosition="before" #settings1="matMenu">
          <mat-card>
            <mat-card-subtitle>Escolha o estilo do mapa</mat-card-subtitle>
            <mat-card-content>
              <mat-select [(ngModel)]="selectedStyle" name="style" (selectionChange)="changeStyle($event.value)">
                <mat-option *ngFor="let style of mapStyles" [value]="style.id">
                  {{ style.name}}
                </mat-option>
              </mat-select>
            </mat-card-content>
          </mat-card>
        </mat-menu>
      </span>
		</div>
	</mat-card-title>
	<mat-divider></mat-divider>

	<agm-map [latitude]="-20.77972" [longitude]="-52.92972" [zoom]=4 [minZoom]=3 [styles]="selectedStyle" [fullscreenControl]="true" 
		(mapClick)="mapClicked($event)" (mapReady)="onMapLoad($event)" [gestureHandling]="cooperative">
		<agm-marker 
      *ngFor="let m of markers; let i = index" 
      (markerClick)="clickedMarker(infowindow)"
			[latitude]="m.latitude" 
      [longitude]="m.longitude" 
      [title]="m.title"
      [iconUrl]="m.icon"
			[markerDraggable]="m.draggable" 
      (dragEnd)="markerDragEnd(m, $event)"
    >
    <agm-info-window #infowindow>
      <strong class="infowindow">{{ m.label }}</strong>
    </agm-info-window>
		</agm-marker>
	</agm-map>

</mat-card>